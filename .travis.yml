language: python
python:
  - "3.7-dev"
  - 3.6
  - 3.5
  - 3.4
  - 3.3
  - 2.7
  - "pypy-5.7.1"
  - "pypy3.5-5.8.0"
    # "pypy" (short version) is deprecated but not documented as such:
    # see https://github.com/travis-ci/travis-cookbooks/pull/861
    # and https://github.com/travis-ci/travis-ci/issues/6865

matrix:
    include:
        # run the flakes explicitly
        env: TOXENV=flake8
    allow_failures:
        # its nice to know, but we don't expect to be running perfectly against
        # the dev build
        - python: "3.7-dev"


# command to install dependencies
install: pip install --upgrade tox-travis

# command to run tests, e.g. python setup.py test
script: tox
